<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ambil Nombor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <style>
    body { text-align: center; font-family: Arial; padding-top: 50px; }
    button { font-size: 20px; padding: 15px 30px; margin-top: 20px; }
    h1 { font-size: 60px; }
  </style>
</head>

<body>

<h2>Nombor Giliran Sekarang</h2>
<h1 id="number">0</h1>

<button onclick="ambilNombor()">AMBIL NOMBOR</button>

<script>
  // ðŸ”´ PASTE CONFIG FIREBASE KAMU DI SINI
  var firebaseConfig = {
    apiKey: "AIzaSyD-M5-zNN8GlJi_Plp7I21iKfLyUrmLv58",
    authDomain: "kaunter-sip.firebaseapp.com",
    databaseURL: "https://kaunter-sip-default-rtdb.firebaseio.com/",
    projectId: "kaunter-sip",
    storageBucket: "kaunter-sip.firebasestorage.app",
    messagingSenderId: "488216255457",
    appId: "1:488216255457:web:4b88a8757329a3924250a0"
  };

  firebase.initializeApp(firebaseConfig);

  var db = firebase.database();
  // Rujuk terus ke path "queue/counter/current"
  var numberRef = db.ref("queue/counter/current");

  // Update nombor di website bila database berubah
  numberRef.on("value", function(snapshot) {
    document.getElementById("number").innerText = snapshot.val() || 0;
  });

  // Fungsi bila tekan button
  function ambilNombor() {
    numberRef.transaction(function(current) {
      return (current || 0) + 1;
    });
  }
</script>

</body>
</html>
